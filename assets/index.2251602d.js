import{p as e,a as t,o as s,c as o,w as a,d as i,b as n,r as l,t as r,F as d,e as m,f as c,g as u,v as p,h,i as b,j as y,T as v,m as g,s as w,k as f,l as x,n as k,q as B,u as T,x as I}from"./vendor.88071a52.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(s){const o=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((s,i)=>{const n=new URL(e,o);if(self[t].moduleMap[n])return s(self[t].moduleMap[n]);const l=new Blob([`import * as m from '${n}';`,`${t}.moduleMap['${n}']=m;`],{type:"text/javascript"}),r=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(l),onerror(){i(new Error(`Failed to import: ${e}`)),a(r)},onload(){s(self[t].moduleMap[n]),a(r)}});document.head.appendChild(r)})),self[t].moduleMap={}}}("/meditate/assets/");const L={},A=a();e("data-v-9abe12ec");const S={class:"loader border-t-8 border-2 border-white rounded-full border-opacity-50 w-24 h-24"};t();const _=A(((e,t,a,i,n,l)=>(s(),o("div",S))));L.render=_,L.__scopeId="data-v-9abe12ec";const M=function(e,t){this.x=e,this.y=t,this.hue=Math.floor(360*Math.random());var s=Math.random()>.5?-1:1;this.velocity=.01*(30*Math.random()+20)*s};M.prototype.update=function(){this.hue+=this.velocity},M.prototype.render=function(e){var t=Math.round(this.hue);e.fillStyle="hsl("+t+", 100%, 50% )",e.fillRect(this.x,this.y,1,1)};const $=i({component:{Loading:L},name:"App",data:()=>({canvas:void 0,ctx:void 0,pixels:[new M(0,0),new M(1,0),new M(0,1),new M(1,1)],loaded:!1}),beforeCreate(){window.addEventListener("load",(()=>{this.loaded=!0,this.$nextTick((()=>{this.canvas=document.querySelector("canvas"),this.ctx=this.canvas.getContext("2d"),this.animate()}))}))},methods:{animate(){this.pixels.forEach((e=>{e.update(),e.render(this.ctx)})),window.requestAnimationFrame(this.animate)}}}),E={key:0,class:"z-10 flex items-center justify-center inset-0 h-screen",id:"app"},F=n("canvas",{width:"2",height:"2"},null,-1),C={key:1},j=n("div",{class:"loader border-t-8 border-2 border-white rounded-full border-opacity-50 w-24 h-24"},null,-1);$.render=function(e,t,a,i,r,d){const m=l("router-view");return e.loaded?(s(),o("div",E,[F,n(m)])):(s(),o("div",C,[j]))};const P=i({props:{msg:String}}),R=a();e("data-v-eec9b05c");const O={class:"mt-10 sm:mt-1 font-bold text-6xl sm:text-4xl"},q={class:"lowercase  text-white"};t();const U=R(((e,t,a,i,l,d)=>(s(),o("header",O,[n("h1",q,r(e.msg),1)]))));P.render=U,P.__scopeId="data-v-eec9b05c";const H=i({props:{msg:String,bells:Array},emits:["allLoaded"],data:()=>({bellAudio:null,soundsLoaded:0}),computed:{selectedBell:{get(){return this.$store.state.selectedBell},set(e){this.$store.commit("setBell",e)}}},methods:{playBell(e){null!==this.bellAudio&&(this.bellAudio.pause(),this.bellAudio.currentTime=0),this.bellAudio=document.getElementById(`bell-${e}`),this.bellAudio.play(),this.selectedBell=e},selectedButton(e){if(null!==(e=this.bellAudio))return e},checkLoad(){for(let e in[0,1,2]){const t=document.getElementById(`bell-${e}`);t.addEventListener("loadeddata",(()=>{t.readyState>=2&&(this.soundsLoaded++,3===this.soundsLoaded&&this.$emit("allLoaded"))}))}}},mounted(){this.checkLoad()}}),z={class:"grid grid-col-1 w-full sm:p-2 py-6"},N=n("p",null,"Select a bell sound",-1),D={class:"grid grid-col-1 mx-auto"},Y={class:"select-none"},V=c(" Your browser does not support the audio element. ");H.render=function(e,t,a,i,l,c){return s(),o("div",z,[N,n("div",D,[(s(!0),o(d,null,m(e.bells,((t,a)=>(s(),o("button",{class:["z-20 text-md w-56 text-center font-semibold rounded-3xl border border-gray-50 border-opacity-25 shadow-lg text-white bg-white bg-opacity-25 active:bg-opacity-20 py-3 sm:py-2 px-0 mt-5 sm:mt-3 active:bg-opacity-80 active:text-gray-600",{"bg-opacity-80 text-gray-600":e.selectedBell===a}],key:a},[n("div",Y,[n("audio",{id:`bell-${a}`,preload:"auto"},[n("source",{src:`/bell-${a}.wav`,type:"audio/wav"},null,8,["src"]),n("source",{src:`/bell-${a}.mp3`,type:"audio/mp3"},null,8,["src"]),V],8,["id"]),n("div",{onClick:t=>e.playBell(a)},r(t.name),9,["onClick"])])],2)))),128))])])};const G=i({props:{},data:()=>({slider:""}),computed:{minutes:{get(){return this.$store.state.minutes},set(e){this.$store.commit("setMinutes",e)}}}}),K=a();e("data-v-ab747656");const Q={class:"pt-6 sm:pt-1.5"},W={class:"px-6 py-4 sm:p-2 w-full"},J=n("label",{for:"time"},"How long would you like to meditate?",-1),X={class:"font-bold text-white"},Z={key:0},ee={key:1};t();const te=K(((e,t,a,i,l,d)=>(s(),o("div",Q,[n("div",W,[J,u(n("input",{type:"range","onUpdate:modelValue":t[1]||(t[1]=t=>e.minutes=t),min:"1",max:"60",id:"time",class:"slider"},null,512),[[p,e.minutes]]),n("div",X,[e.minutes>1?(s(),o("p",Z,r(e.minutes)+" minutes",1)):(s(),o("p",ee,"1 minute"))])])]))));G.render=te,G.__scopeId="data-v-ab747656";const se=i({props:{msg:String,icons:Array}}),oe=n("div",{class:"justify-center text-white select-none mt-5 sm:mt-2 sm:mb-10"},[n("p",null,[n("a",{class:"text-xl sm:text-lg font-semibold leading-5 sm:leading-3",href:"https://www.raposinha.dev/"},"app by raposinha.dev ")])],-1);se.render=function(e,t,a,i,n,l){return s(),o("footer",null,[oe])};const ae=i({props:{numberOfBells:Array},data:()=>({helpText:!1}),computed:{reminders:{get(){return this.$store.state.reminders},set(e){this.$store.commit("setReminders",e)}}},methods:{mouseEnter(){this.helpText=!this.helpText}}}),ie={class:"leading-5 py-6 sm:py-3 relative"},ne=n("label",{for:"number-bells-select",class:"mr-4"},"Reminder bells?",-1),le={class:"relative inline-flex"},re=n("svg",{class:"w-2 h-2 absolute top-0 right-1 align-middle m-3 pointer-events-none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 412 232"},[n("path",{d:"M206 171.144L42.678 7.822c-9.763-9.763-25.592-9.763-35.355 0-9.763 9.764-9.763 25.592 0 35.355l181 181c4.88 4.882 11.279 7.323 17.677 7.323s12.796-2.441 17.678-7.322l181-181c9.763-9.764 9.763-25.592 0-35.355-9.763-9.763-25.592-9.763-35.355 0L206 171.144z",fill:"#648299","fill-rule":"nonzero"})],-1),de={id:"what-is",class:"absolute top-6 sm:top-3 right-2 sm:right-4 w-8 sm:w-6 opacity-80 "},me=n("img",{src:"/meditate/noun_Question_1955781.svg",alt:"question icon - by Adrien Coquet from the Noun Project"},null,-1),ce=n("img",{src:"/meditate/noun_wrong_1890786.svg",alt:"close icon - by Alice Design from the Noun Project"},null,-1),ue={class:"text-sm text-right pt-3 ml-32 mr-5 sm:ml-5"};ae.render=function(e,t,a,i,l,c){return s(),o("div",ie,[ne,n("div",le,[re,u(n("select",{id:"number-bells-select",class:"align-center border text-middle rounded-full text-gray-600 h-8 pl-2 pr-6 bg-white hover:border-gray-400 appearance-none","onUpdate:modelValue":t[1]||(t[1]=t=>e.reminders=t)},[(s(!0),o(d,null,m(e.numberOfBells,((e,t)=>(s(),o("option",{value:e,key:t},r(e),9,["value"])))),128))],512),[[h,e.reminders]])]),n("div",de,[e.helpText?(s(),o("div",{key:1,onClick:t[3]||(t[3]=(...t)=>e.mouseEnter&&e.mouseEnter(...t))},[ce])):(s(),o("div",{key:0,onClick:t[2]||(t[2]=(...t)=>e.mouseEnter&&e.mouseEnter(...t))},[me]))]),n(v,{"enter-active-class":"animate-fade-in-down","leave-active-class":"animate-fade-out-up"},{default:b((()=>[u(n("div",ue," Reminder bells are played along your meditation to make you come back to your breath. You can choose up to 10 reminders. ",512),[[y,e.helpText]])])),_:1})])};const pe={},he=n("div",{class:"relative "},[n("img",{src:"/meditate/info.svg",alt:"about icon - By UNKNOWN DESIGN, ID",class:"absolute top-2 right-4 w-9 sm:w-5 opacity-80"})],-1);pe.render=function(e,t){const a=l("router-link");return s(),o(a,{to:"/about"},{default:b((()=>[he])),_:1})};const be=i({components:{Header:P,Sound:H,Time:G,Interval:ae,Footer:se,AboutButton:pe,Loading:L},data:()=>({bells:[{name:"bright sound",id:0},{name:"deep sound",id:1},{name:"solemn sound",id:2}],numberOfBells:[0,1,2,3,4,5,6,7,8,9,10],fullLoad:!1}),computed:g(["minutes","selectedBell","reminders"]),methods:{goToMeditation(){this.$router.push({name:"meditate",params:{time:this.minutes,bell:this.selectedBell,interval:this.reminders}})},showSettings(){this.fullLoad=!0}}}),ye={class:"grid"},ve={class:"container max-w-lg mx-auto text-center content-center max-h-screen"},ge={class:"rounded-2xl border-2 border-gray-50 border-opacity-25 max-w-full my-auto sm:mx-2 sm:my-0 pt-0 p-4 sm:p-1 bg-gray-300 bg-opacity-40 shadow",id:"home"},we={class:"grid grid-cols-1 text-xl sm:text-lg font-semibold leading-5 text-center text-gray-700"},fe={class:"px-6 pb-1.5 pt-6 sm:pt-1.5 font-bold text-white leading-6"};be.render=function(e,t,a,i,d,m){const c=l("Loading"),p=l("Header"),h=l("AboutButton"),g=l("Time"),w=l("Sound"),f=l("Interval"),x=l("Footer");return s(),o(v,null,{default:b((()=>[n("div",ye,[u(n("div",null,[n(c)],512),[[y,!e.fullLoad]]),u(n("div",ve,[n(p,{msg:"meditation timer"}),n(h),n("div",ge,[n("div",we,[n(g),n("div",null,[n(w,{bells:e.bells,onAllLoaded:e.showSettings},null,8,["bells","onAllLoaded"])]),n("div",null,[n(f,{numberOfBells:e.numberOfBells},null,8,["numberOfBells"])]),n("div",fe,[n("p",null," Meditate with "+r(e.bells[e.selectedBell].name)+" bell for "+r(e.minutes)+" minute"+r(e.minutes>1?"s":"")+" with "+r(e.reminders)+" reminder"+r(1!==e.reminders?"s":"")+". ",1),n("button",{class:"font-bold sm:font-semibold text-2xl sm:text-xl rounded-full shadow-lg bg-gray-100 bg-opacity-10 border-gray-50 border border-opacity-40 px-10 sm:px-8 py-3 sm:py-2 my-5 sm:my-3 focus:bg-opacity-60 focus:text-gray-600",onClick:t[1]||(t[1]=(...t)=>e.goToMeditation&&e.goToMeditation(...t))}," Start ")])])]),n(x)],512),[[y,e.fullLoad]])])])),_:1})};const xe=i({name:"meditate",props:["time","bell","interval"],data(){return{selectedBell:this.bell,sound:void 0,selectedlInterval:Number(this.interval)+1,currentInterval:1,intervalTime:0,totalTime:6e4*this.time,startTime:-1,elapsed:void 0,totalElapsed:0,secs:3500,isPlayed:!1,finished:!1,countdownId:void 0,noSleep:new w}},mounted(){void 0!==this.selectedBell&&void 0!==this.totalTime&&void 0!==this.selectedlInterval||(this.totalTime=3e5,this.selectedBell=1),this.intervalTime=this.totalTime/this.selectedlInterval,this.sound=document.getElementById("meditationSound"),document.addEventListener("keydown",this.spaceBar)},computed:{prettyTime(){return this.convertMinutes((this.totalTime-this.elapsed).toFixed(0))}},methods:{convertMinutes(e){let t=Math.floor(e/6e4),s=(e%6e4/1e3).toFixed(0);return"60"===s&&(t+=1,s="00"),t=String(t).padStart(2,0),s=s.padStart(2,0),`${t}:${s}`},play(){void 0===this.elapsed&&this.sound.play(),this.noSleep.enable(),this.countdownId=window.requestAnimationFrame(this.countdown),this.isPlayed=!0},pause(){this.sound.pause(),this.isPlayed=!1},spaceBar(e){return" "===e.key&&this.isPlayed?this.pause():" "!==e.key||this.isPlayed?void console.log(e):this.play()},countdown(e){this.isPlayed?(-1===this.startTime&&(this.startTime=e),this.elapsed=e-this.startTime+this.totalElapsed,this.elapsed<=this.totalTime?(this.elapsed>=this.intervalTime*this.currentInterval&&(this.playIntervalBell(),this.currentInterval++),this.countdownId=window.requestAnimationFrame(this.countdown)):(this.startTime=-1,this.finished=!0,this.countdownId=window.requestAnimationFrame(this.endMeditation))):-1!==this.startTime&&(this.totalElapsed=this.elapsed,this.startTime=-1)},playIntervalBell(){this.sound.currentTime=0,this.sound.play()},endMeditation(e){-1==this.startTime&&(this.startTime=e,this.sound.currentTime=.4,this.sound.play()),this.elapsed=e-this.startTime,this.elapsed<=10501&&(this.elapsed>=this.secs&&(this.sound.currentTime=0,this.sound.play(),this.secs=this.secs+3500),this.countdownId=window.requestAnimationFrame(this.endMeditation)),this.noSleep.disable()},backHome(){window.cancelAnimationFrame(this.countdownId),this.noSleep.disable(),this.$router.push({name:"Home",params:{}})}}}),ke=a();e("data-v-6b37b7ac");const Be={class:"z-10 text-center"},Te={id:"meditationSound",preload:"auto",ref:"audioPlayer"},Ie=c(" Your browser does not support the audio element. "),Le={class:"relative content-center text-7xl text-white font-bold mb-36"},Ae={key:0},Se={key:1},_e={key:2,class:"text-3xl animate-fade-in"},Me=n("p",{class:"mb-2 animate-fade-in"},"Congratulations!",-1),$e={class:"absolute bottom-10 inset-x-0"},Ee={class:"relative bottom-64 sm:bottom-20 sm:mb-5"},Fe=n("img",{src:"/meditate/noun_Stop_559095.svg",alt:"pause",class:"w-14"},null,-1),Ce=n("img",{src:"/meditate/noun_play_559093.svg",alt:"play",class:"w-14"},null,-1);t();const je=ke(((e,t,a,i,l,d)=>(s(),o("div",Be,[n("audio",Te,[n("source",{src:`/bell-${e.selectedBell}.wav`,type:"audio/wav"},null,8,["src"]),n("source",{src:`/bell-${e.selectedBell}.mp3`,type:"audio/mp3"},null,8,["src"]),Ie],512),n("div",Le,[void 0===e.elapsed?(s(),o("div",Ae,r(e.convertMinutes(e.totalTime)),1)):e.finished?(s(),o("div",_e,[n("div",null,[Me,n("p",null," You meditated for "+r(e.time)+" minute"+r(e.time>1?"s":"")+" today. ",1)])])):(s(),o("div",Se,r(e.prettyTime),1))]),n("div",$e,[u(n("div",Ee,[n(v,{"enter-active-class":"animate-fade-in","leave-active-class":"animate-fade-out",mode:"out-in"},{default:ke((()=>[e.isPlayed?(s(),o("button",{key:"pause",preload:"auto",onClick:t[1]||(t[1]=(...t)=>e.pause&&e.pause(...t))},[Fe])):(s(),o("button",{key:"play",preload:"auto",onClick:t[2]||(t[2]=(...t)=>e.play&&e.play(...t))},[Ce]))])),_:1})],512),[[y,!e.finished]]),n("button",{onClick:t[3]||(t[3]=(...t)=>e.backHome&&e.backHome(...t)),class:"text-xl px-6 py-2 text-center font-semibold rounded-3xl shadow-lg bg-gray-100 bg-opacity-10 border-gray-50 border border-opacity-40 text-white 5 mt-3"}," Back ")])]))));xe.render=je,xe.__scopeId="data-v-6b37b7ac";const Pe=i({components:{Footer:se,Loading:L}}),Re={class:"z-10"},Oe={class:"container max-w-lg sm:max-h-screen mt-10 sm:mt-5 text-center"},qe={class:"rounded-3xl border-2 border-gray-50 border-opacity-25 max-w-full my-auto sm:mx-2 sm:my-0 pt-0 p-4 sm:p-1 bg-gray-400 bg-opacity-40 shadow m-5"},Ue=f('<div class="mx-3 my-5 text-xl sm:text-base font-medium text-white text-left"><p class="mt-3"> This <strong>meditation timer</strong> is a free open source app with customizable features beyond the time duration of your meditation session: there are three options for the Tibetan Bell sound and there is also the option to have reminders sounds along your meditation. In the end, by default, three bells are played. </p><p class="mt-4"> Some features are still a work in progress, such as: saving all the time you meditated and a gamification for milestones in your total time meditated. </p><p class="mt-4"> This app was built by Elena Volpato. Check out <a class="underline" href="https://www.raposinha.dev/"> raposinha.dev</a> for more information about my work. I write about my learning process and my projects. </p><p class="mt-4"> If you have any ideas to share or found any bugs, write to me <strong> elena@raposinha.dev</strong> or you can report an issue on my github page <a class="underline" href="https://github.com/elenavolpato/meditate/issues/new">here</a>. (You&#39;ll need a gitlab account to do so). </p><p class="mt-4"> Background animation is<a class="underline" href="https://desandro.com/"> by Dave DeSandro</a>. </p></div>',1),He={class:"my-5"},ze=n("button",{class:"text-md w-24 h-10 text-center font-semibold rounded-3xl border border-gray-50 border-opacity-25 shadow-lg text-white bg-white bg-opacity-10 mt-3"}," Back ",-1);Pe.render=function(e,t,a,i,r,d){const m=l("router-link"),c=l("Footer");return s(),o("div",Re,[n("div",Oe,[n("div",qe,[Ue,n("div",He,[n(m,{to:"/"},{default:b((()=>[ze])),_:1})])]),n(c)])])};const Ne=[{path:"/",name:"Home",component:be},{path:"/meditate",name:"meditate",component:xe,props:!0},{path:"/about",name:"AboutApp",component:Pe,props:!0}],De=x({history:k(),routes:Ne}),Ye=B({state:()=>({minutes:30,selectedBell:1,reminders:0}),mutations:{setMinutes(e,t){e.minutes=t},setBell(e,t){e.selectedBell=t},setReminders(e,t){e.reminders=t}},plugins:[T()]});I($).use(De).use(Ye).mount("#app");
